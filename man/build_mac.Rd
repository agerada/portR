% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/build_mac.R
\name{build_mac}
\alias{build_mac}
\title{Build portable macOS distribution}
\usage{
build_mac(
  project_path,
  entry_script = NULL,
  output_dir = NULL,
  r_version = "4.5.2",
  r_version_minor = NULL,
  fallback_r_version = "4.4",
  arch = NULL,
  extra_dirs = NULL,
  create_zip = FALSE,
  zip_name = "portable_app_macos.zip",
  shiny_command = "shiny::runApp('app', launch.browser=TRUE)",
  clean_on_error = TRUE,
  app_name = "ShinyApp"
)
}
\arguments{
\item{project_path}{Path to the project root directory. Must contain a
valid renv.lock file.}

\item{entry_script}{Relative path to the entry script from project root
(e.g., "app.R" or "run.R"). For multi-file Shiny apps, this can be NULL
if ui.R and server.R are in the project root or app/ subdirectory.}

\item{output_dir}{Directory where the distribution will be created.
Defaults to "dist" in the project root.}

\item{r_version}{Target R version for macOS (e.g., "4.5.2").}

\item{r_version_minor}{R major.minor version for package repository
(e.g., "4.5"). If NULL, derived from r_version.}

\item{fallback_r_version}{Fallback R version if primary repository is
unavailable.}

\item{arch}{Target architecture: "arm64" or "x86_64". Defaults to current
system architecture.}

\item{extra_dirs}{Additional directories to include in the distribution
(e.g., c("models", "data")).}

\item{create_zip}{Whether to create a zip archive of the distribution.}

\item{zip_name}{Name of the zip file (without path). Defaults to
"portable_app_macos.zip".}

\item{shiny_command}{R command to run the Shiny app. Defaults to
"shiny::runApp('app', launch.browser=TRUE)".}

\item{clean_on_error}{Whether to clean up on error.}

\item{app_name}{Name of the macOS application bundle (without .app extension).
Defaults to "ShinyApp".}
}
\value{
Invisibly returns the path to the distribution directory.
}
\description{
Creates a portable macOS distribution of an R Shiny application that
can run with minimal setup. The distribution includes R, all required
packages, and a shell script launcher.
}
\details{
This function creates a macOS application bundle (.app) that can be copied
to /Applications/ and run like any other macOS app. The bundle includes:
\itemize{
\item R runtime embedded in the app
\item All required R packages
\item Application files
\item A double-clickable launcher
}

System requirements:
\itemize{
\item macOS with \code{pkgutil} and \code{hdiutil} (standard on macOS)
\item \code{zip} command for creating archives (if create_zip=TRUE)
}
}
\examples{
\dontrun{
build_mac(
  project_path = "path/to/my/shiny/app",
  entry_script = "app.R"
)

build_mac(
  project_path = ".",
  entry_script = "app.R",
  r_version = "4.4.2",
  arch = "arm64",
  extra_dirs = c("models", "data"),
  create_zip = TRUE,
  app_name = "MyShinyApp"
)

# For multi-file Shiny apps with ui.R/server.R in project root
build_mac(
  project_path = "path/to/my/shiny/app"
  # entry_script can be NULL if ui.R and server.R exist
)
}
}
