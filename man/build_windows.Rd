% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/build_windows.R
\name{build_windows}
\alias{build_windows}
\title{Build portable Windows distribution}
\usage{
build_windows(
  project_path,
  entry_script,
  output_dir = NULL,
  r_version = "4.5.2",
  r_version_minor = NULL,
  fallback_r_version = "4.4",
  extra_dirs = NULL,
  create_zip = FALSE,
  zip_name = "portable_app_windows.zip",
  shiny_command = "shiny::runApp('app', launch.browser=TRUE)",
  clean_on_error = TRUE
)
}
\arguments{
\item{project_path}{Path to the project root directory. Must contain a
valid renv.lock file.}

\item{entry_script}{Relative path to the entry script from project root
(e.g., "app.R" or "run.R").}

\item{output_dir}{Directory where the distribution will be created.
Defaults to "dist" in the project root.}

\item{r_version}{Target R version for Windows (e.g., "4.5.2").}

\item{r_version_minor}{R major.minor version for package repository
(e.g., "4.5"). If NULL, derived from r_version.}

\item{fallback_r_version}{Fallback R version if primary repository is
unavailable.}

\item{extra_dirs}{Additional directories to include in the distribution
(e.g., c("models", "data")).}

\item{create_zip}{Whether to create a zip archive of the distribution.}

\item{zip_name}{Name of the zip file (without path). Defaults to
"portable_app_windows.zip".}

\item{shiny_command}{R command to run the Shiny app. Defaults to
"shiny::runApp('app', launch.browser=TRUE)".}

\item{clean_on_error}{Whether to clean up on error.}
}
\value{
Invisibly returns the path to the distribution directory.
}
\description{
Creates a portable Windows distribution of an R Shiny application that
can run without installation. The distribution includes R, all required
packages, and a batch file launcher.
}
\details{
This function:
\enumerate{
\item Validates renv status in the project
\item Downloads R for Windows
\item Extracts R using innoextract or 7z
\item Downloads Windows binary packages from CRAN
\item Copies app files and local packages
\item Creates a launcher batch file
\item Optionally creates a zip archive
}

System requirements:
\itemize{
\item \code{innoextract} or \verb{7z} for extracting R installer
\item \code{zip} command for creating archives (if create_zip=TRUE)
}
}
\examples{
\dontrun{
build_windows(
  project_path = "path/to/my/shiny/app",
  entry_script = "app.R"
)

build_windows(
  project_path = ".",
  entry_script = "app.R",
  r_version = "4.4.2",
  extra_dirs = c("models", "data"),
  create_zip = TRUE
)
}
}
